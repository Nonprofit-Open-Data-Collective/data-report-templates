}
v_to_txt <- function( v, v.lab )
{
if( class(v) == "character" )
{ to_txt_string( x=v, x.lab=v.lab ) }
if( class(v) == "knitr_kable" )
{ to_txt_factor( x=v, x.lab=v.lab ) }
}
create_div1 <- function( x1=vname )
{
cat( "::: {.div1} \n\n" )
cat( paste0( x1, "\n\n" ) )
cat( "::: \n\n" )
}
create_div1( x1=vname )
create_div2 <- function( x2=vlabel, x2.lab="LABEL" )
{
cat( "::: {.div2} \n\n" )
v_to_txt( x2, x2.lab )
cat( "::: \n\n" )
}
create_div2( x2=vlabel )
create_div3 <- function( x3=vtype, x3.lab="DATA TYPE",
x4=vscope, x4.lab="SCOPE" )
{
cat( "::: {.div3} \n\n" )
v_to_txt( x3, x3.lab )
v_to_txt( x4, x4.lab )
cat( "::: \n\n" )
}
create_div3( x3=vtype, x4=vscope )
create_div4 <- function( x5=desc, x5.lab="DESCRIPTION",
x6=k, x6.lab="LEVELS",
x7=loc, x7.lab="LOCATION CODE" )
{
cat( "::: {.div4} \n\n" )
v_to_txt( x5, x5.lab )
v_to_txt( x6, x6.lab )
v_to_txt( x7, x7.lab )
cat( "::: \n\n" )
}
create_div4( x5=desc, x6=k, x7=loc )
create_div5 <- function( x8=p, x8.lab="Properties")
{
cat( "::: {.div5} \n\n" )
v_to_txt( x8, x8.lab )
cat( "::: \n\n" )
}
create_div5( x8=p )
create_div6 <- function( x9=q, x9.lab="Quantiles" )
{
cat( "::: {.div6} \n\n" )
v_to_txt( x9, x9.lab )
cat( "::: \n\n" )
}
create_div6( x9=q )
create_div7 <- function( x10=s, x10.lab="Statistics" )
{
cat( "::: {.div7} \n\n" )
v_to_txt( x10, x10.lab )
cat( "::: \n\n" )
}
create_div7( x10=s )
create_div8 <- function( )
{
cat( "::: {.div8} \n\n" )
#cat( barplot(table(cut(rnorm(1000),10)),col="steelblue") )
barplot(table(cut(rnorm(1000),10)),col="steelblue")
cat( "\n::: \n\n" )
}
create_div8( )
create_div9 <- function( x11=t3k, x11.lab="Example values" )
{
cat( "::: {.div9} \n\n" )
v_to_txt( x11, x11.lab )
cat( "::: \n\n" )
}
create_div9( x11=t3k )
create_section <- function( x1=vname,
x2=vlabel, x2.lab="LABEL",
x3=vtype, x3.lab="DATA TYPE",
x4=vscope, x4.lab="SCOPE",
x5=desc, x5.lab="DESCRIPTION",
x6=k, x6.lab="LEVELS",
x7=loc, x7.lab="LOCATION CODE",
x8=p, x8.lab="Properties",
x9=q, x9.lab="Quantiles",
x10=s, x10.lab="Statistics",
x11=t3k, x11.lab="Example values")
{
cat( "::::: {.parent} \n\n" )
create_div1( x1=vname )
create_div2( x2=vlabel )
create_div3( x3=vtype, x4=vscope )
create_div4( x5=desc, x6=k, x7=loc )
create_div5( x8=p )
create_div6( x9=q )
create_div7( x10=s )
create_div8( )
create_div9( x11=t3k )
cat( ":::::" )
}
create_section( x1=vname, x2=vlabel, x3=vtype, x4=vscope, x5=desc, x6=k, x7=loc, x8=p, x9=q, x10=s, x11=t3k )
p
p <- kable( prop, col.names=NULL )
p
vname <- "VARNAME"
vlabel <- "Ipsum is simply dummy text of the printing and typesetting industry."
vtype <- "numeric"
vscope <- "PZ"
flevels <-
structure(list(FLEVEL = c("AL", "AK", "AZ", "AR", "CA", "CO"
), LABEL = c("Alabama", "Alaska", "Arizona", "Arkansas",
"California", "Colorado")), row.names = c(NA, 6L), class = "data.frame")
desc <- "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."
loc <- "SCHED-A-PART-01-LINE-01"
to_table <- function( f, format="html" )
{
t <- table( f )
t2 <- as.data.frame(t)
names(t2) <- c("Level","Label")
t2 %>% kable( format )
}
dgf <- data.frame( desc, loc )
k <- kable( flevels )
prop <-
structure(list(p1 = c("Distinct (n)", "Distinct (%)", "Missing (n)",
"Missing (%)"), p2 = c("49156", "3.7", "934", "0.3")), class = "data.frame", row.names = c(NA,
-4L))
quant <-
structure(list(q1 = c("Q-05", "Q-25", "Q-50", "Q-75", "Q-95"),
q2 = c(0, 100, 500, 900, 1234)), class = "data.frame", row.names = c(NA,
-5L))
stats <-
structure(list(s1 = c("Min", "Median", "Mean", "Max", "Skew",
"Kurtosis"), s2 = c("x", "x", "x", "x", "x", "x")), class = "data.frame", row.names = c(NA,
-6L))
p <- kable( prop, col.names=NULL )
q <- kable( quant, col.names=NULL )
s <- kable( stats, col.names=NULL )
# Example values
vals <- round( rnorm(25,100000,100000), 0 )
# convert to table
t3 <- as.data.frame( matrix( vals, nrow=5 ) )
t3k <- kable( t3, col.names=NULL )
to_txt_string <- function( x, x.lab=NULL )
{
txt <- paste0( "**", x.lab, "**", ": ",  x, "\n\n" )
cat( txt )
}
to_txt_factor <- function( x, x.lab=NULL )
{
cat( paste0( "##### ", x.lab, "\n\n" ) )
cat( paste0( x, " \n" ), sep="" )
cat( "\n\n" )
}
v_to_txt <- function( v, v.lab )
{
if( class(v) == "character" )
{ to_txt_string( x=v, x.lab=v.lab ) }
if( class(v) == "knitr_kable" )
{ to_txt_factor( x=v, x.lab=v.lab ) }
}
create_div1 <- function( x1=vname )
{
cat( "::: {.div1} \n\n" )
cat( paste0( x1, "\n\n" ) )
cat( "::: \n\n" )
}
create_div1( x1=vname )
create_div2 <- function( x2=vlabel, x2.lab="LABEL" )
{
cat( "::: {.div2} \n\n" )
v_to_txt( x2, x2.lab )
cat( "::: \n\n" )
}
create_div2( x2=vlabel )
create_div3 <- function( x3=vtype, x3.lab="DATA TYPE",
x4=vscope, x4.lab="SCOPE" )
{
cat( "::: {.div3} \n\n" )
v_to_txt( x3, x3.lab )
v_to_txt( x4, x4.lab )
cat( "::: \n\n" )
}
create_div3( x3=vtype, x4=vscope )
create_div4 <- function( x5=desc, x5.lab="DESCRIPTION",
x6=k, x6.lab="LEVELS",
x7=loc, x7.lab="LOCATION CODE" )
{
cat( "::: {.div4} \n\n" )
v_to_txt( x5, x5.lab )
v_to_txt( x6, x6.lab )
v_to_txt( x7, x7.lab )
cat( "::: \n\n" )
}
create_div4( x5=desc, x6=k, x7=loc )
create_div5 <- function( x8=p, x8.lab="Properties")
{
cat( "::: {.div5} \n\n" )
v_to_txt( x8, x8.lab )
cat( "::: \n\n" )
}
create_div5( x8=p )
create_div6 <- function( x9=q, x9.lab="Quantiles" )
{
cat( "::: {.div6} \n\n" )
v_to_txt( x9, x9.lab )
cat( "::: \n\n" )
}
create_div6( x9=q )
create_div7 <- function( x10=s, x10.lab="Statistics" )
{
cat( "::: {.div7} \n\n" )
v_to_txt( x10, x10.lab )
cat( "::: \n\n" )
}
create_div7( x10=s )
create_div8 <- function( )
{
cat( "::: {.div8} \n\n" )
#cat( barplot(table(cut(rnorm(1000),10)),col="steelblue") )
barplot(table(cut(rnorm(1000),10)),col="steelblue")
cat( "\n::: \n\n" )
}
create_div8( )
create_div9 <- function( x11=t3k, x11.lab="Example values" )
{
cat( "::: {.div9} \n\n" )
v_to_txt( x11, x11.lab )
cat( "::: \n\n" )
}
create_div9( x11=t3k )
create_section <- function( x1=vname,
x2=vlabel, x2.lab="LABEL",
x3=vtype, x3.lab="DATA TYPE",
x4=vscope, x4.lab="SCOPE",
x5=desc, x5.lab="DESCRIPTION",
x6=k, x6.lab="LEVELS",
x7=loc, x7.lab="LOCATION CODE",
x8=p, x8.lab="Properties",
x9=q, x9.lab="Quantiles",
x10=s, x10.lab="Statistics",
x11=t3k, x11.lab="Example values")
{
cat( "::::: {.parent} \n\n" )
create_div1( x1=vname )
create_div2( x2=vlabel )
create_div3( x3=vtype, x4=vscope )
create_div4( x5=desc, x6=k, x7=loc )
create_div5( x8=p )
create_div6( x9=q )
create_div7( x10=s )
create_div8( )
create_div9( x11=t3k )
cat( ":::::" )
}
create_section( x1=vname, x2=vlabel, x3=vtype, x4=vscope, x5=desc, x6=k, x7=loc, x8=p, x9=q, x10=s, x11=t3k )
library( gt )
t3k
data_color(t3k)
data_color(t3)
t3 <- gt( as.data.frame( matrix( vals, nrow=5 ) ) )
t3
data_color(t3)
t3c <- data_color( t3, palette="steelblue" )
t3c
data_color( t3, palette=scales::col_numeric(c("white","steelblue" )))
data_color( t3, palette=scales::col_numeric(c("white","steelblue" ),domain=NULL))
data_color( t3, palette=scales::col_numeric(c("white","aquamarine3" ),domain=NULL))
t3c <- data_color( t3,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
gt( as.data.frame( matrix( vals, nrow=5 ) ), col.names=NULL )
vname <- "VARNAME"
vlabel <- "Ipsum is simply dummy text of the printing and typesetting industry."
vtype <- "numeric"
vscope <- "PZ"
flevels <-
structure(list(FLEVEL = c("AL", "AK", "AZ", "AR", "CA", "CO"
), LABEL = c("Alabama", "Alaska", "Arizona", "Arkansas",
"California", "Colorado")), row.names = c(NA, 6L), class = "data.frame")
desc <- "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."
loc <- "SCHED-A-PART-01-LINE-01"
to_table <- function( f, format="html" )
{
t <- table( f )
t2 <- as.data.frame(t)
names(t2) <- c("Level","Label")
t2 %>% kable( format )
}
dgf <- data.frame( desc, loc )
k <- kable( flevels )
prop <-
structure(list(p1 = c("Distinct (n)", "Distinct (%)", "Missing (n)",
"Missing (%)"), p2 = c("49156", "3.7", "934", "0.3")), class = "data.frame", row.names = c(NA,
-4L))
quant <-
structure(list(q1 = c("Q-05", "Q-25", "Q-50", "Q-75", "Q-95"),
q2 = c(0, 100, 500, 900, 1234)), class = "data.frame", row.names = c(NA,
-5L))
stats <-
structure(list(s1 = c("Min", "Median", "Mean", "Max", "Skew",
"Kurtosis"), s2 = c("x", "x", "x", "x", "x", "x")), class = "data.frame", row.names = c(NA,
-6L))
p <- kable( prop, col.names=NULL )
q <- kable( quant, col.names=NULL )
s <- kable( stats, col.names=NULL )
# Example values
vals <- round( rnorm(25,100000,100000), 0 )
# convert to table
#t3 <- as.data.frame( matrix( vals, nrow=5 ) )
#t3k <- kable( t3, col.names=NULL )
t3 <- gt( as.data.frame( matrix( vals, nrow=5 ) ) )
t3c <- data_color( t3,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
to_txt_string <- function( x, x.lab=NULL )
{
txt <- paste0( "**", x.lab, "**", ": ",  x, "\n\n" )
cat( txt )
}
to_txt_factor <- function( x, x.lab=NULL )
{
cat( paste0( "##### ", x.lab, "\n\n" ) )
cat( paste0( x, " \n" ), sep="" )
cat( "\n\n" )
}
v_to_txt <- function( v, v.lab )
{
if( class(v) == "character" )
{ to_txt_string( x=v, x.lab=v.lab ) }
if( class(v) == "knitr_kable" )
{ to_txt_factor( x=v, x.lab=v.lab ) }
}
create_div1 <- function( x1=vname )
{
cat( "::: {.div1} \n\n" )
cat( paste0( x1, "\n\n" ) )
cat( "::: \n\n" )
}
create_div1( x1=vname )
create_div2 <- function( x2=vlabel, x2.lab="LABEL" )
{
cat( "::: {.div2} \n\n" )
v_to_txt( x2, x2.lab )
cat( "::: \n\n" )
}
create_div2( x2=vlabel )
create_div3 <- function( x3=vtype, x3.lab="DATA TYPE",
x4=vscope, x4.lab="SCOPE" )
{
cat( "::: {.div3} \n\n" )
v_to_txt( x3, x3.lab )
v_to_txt( x4, x4.lab )
cat( "::: \n\n" )
}
create_div3( x3=vtype, x4=vscope )
create_div4 <- function( x5=desc, x5.lab="DESCRIPTION",
x6=k, x6.lab="LEVELS",
x7=loc, x7.lab="LOCATION CODE" )
{
cat( "::: {.div4} \n\n" )
v_to_txt( x5, x5.lab )
v_to_txt( x6, x6.lab )
v_to_txt( x7, x7.lab )
cat( "::: \n\n" )
}
create_div4( x5=desc, x6=k, x7=loc )
create_div5 <- function( x8=p, x8.lab="Properties")
{
cat( "::: {.div5} \n\n" )
v_to_txt( x8, x8.lab )
cat( "::: \n\n" )
}
create_div5( x8=p )
create_div6 <- function( x9=q, x9.lab="Quantiles" )
{
cat( "::: {.div6} \n\n" )
v_to_txt( x9, x9.lab )
cat( "::: \n\n" )
}
create_div6( x9=q )
create_div7 <- function( x10=s, x10.lab="Statistics" )
{
cat( "::: {.div7} \n\n" )
v_to_txt( x10, x10.lab )
cat( "::: \n\n" )
}
create_div7( x10=s )
create_div8 <- function( x11.lab="Histogram" )
{
cat( "::: {.div8} \n\n" )
cat( paste0( "##### ", x11.lab, "\n\n" ) )
barplot(table(cut(rnorm(1000),10)),col="steelblue")
cat( "\n::: \n\n" )
}
create_div8( x11.lab="Histogram" )
create_div9 <- function( x12=t3c, x12.lab="Example values" )
{
cat( "::: {.div9} \n\n" )
v_to_txt( x12, x12.lab )
cat( "::: \n\n" )
}
create_div9( x12=t3c )
class(t3c)
class(t3k)
t3ck <- kable( t3c, col.names=NULL )
t3ck
t3c
gt( as.data.frame( matrix( vals, nrow=5 ) ) )
gt( as.data.frame( matrix( vals, nrow=5 ) ), rowname_col = NULL )
gt( as.data.frame( matrix( vals, nrow=5 ) ), gruopname_col = NULL )
gt( as.data.frame( matrix( vals, nrow=5 ) ), groupname_col = NULL )
rm_header(t3)
t3
t3 <- rm_header( t3 )
t3
gt( as.data.frame( matrix( vals, nrow=5 ) ), column_labels.hidden=T )
t3 %>% tab_options( column_labels.hidden = T )
t3
t3
t3 %>% gt() %>% tab_options( column_labels.hidden = T )
t3 %>%
select( -rowname ) %>%
gt() %>%
tab_options( column_labels.hidden = T )
t3 %>%
gt() %>%
tab_options( column_labels.hidden = T )
tab_options( t3, column_labels.hidden = T )
t3 <- tab_options( t3, column_labels.hidden = T )
t3
t3c <- data_color( t3,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
t3c
class(t3k)
class(t3c)
data_color( t3,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
data_color( t3,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
t3ct<-as.table(t3c)
t3ck <- kable( t3c, col.names=NULL )
t3ck
install.packages(formattable)
install.packages("formattable")
library( formattable )
e <- as.data.frame( matrix( vals, nrow=5 ) )
e <- formattable( e, list(
V1 = color_bar( "aquamarine3" ),
V2 = color_bar( "aquamarine3" ),
V3 = color_bar( "aquamarine3" ),
V4 = color_bar( "aquamarine3" ),
V5 = color_bar( "aquamarine3" )
) )
e
class(e)
e <- kable( e, col.names=NULL )
e
e <- formattable( e, list(
V1 = color_bar( "aquamarine3" ),
V2 = color_bar( "aquamarine3" ),
V3 = color_bar( "aquamarine3" ),
V4 = color_bar( "aquamarine3" ),
V5 = color_bar( "aquamarine3" )
) )
e <- as.data.frame( matrix( vals, nrow=5 ) )
e <- formattable( e, list(
V1 = color_bar( "aquamarine3" ),
V2 = color_bar( "aquamarine3" ),
V3 = color_bar( "aquamarine3" ),
V4 = color_bar( "aquamarine3" ),
V5 = color_bar( "aquamarine3" )
) )
e
e <- formattable( e, list(
area( col = 1:5 ) ~ color_bar( "aquamarine3" )
)
)
e
e <- gt( as.data.frame( matrix( vals, nrow=5 ) ) )
e <- tab_options( t3, column_labels.hidden = T )
e
e <- data_color( t3,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
e
e<-as.character(e)
e
e
e <- gt( as.data.frame( matrix( vals, nrow=5 ) ) )
e <- tab_options( e, column_labels.hidden = T )
e <- data_color( e,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
e <- gt( as.data.frame( matrix( vals, nrow=5 ) ) )
e <- tab_options( e, column_labels.hidden = T )
e <- data_color( e,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
e
e <- gt( as.data.frame( matrix( vals, nrow=5 ) ) )
e <- tab_options( e, column_labels.hidden = T )
e <- data_color( e,
palette=scales::col_numeric( c( "white", "aquamarine3" ),
domain=NULL ) )
e
class(e)
